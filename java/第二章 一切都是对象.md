### 第二章 一切都是对象

2.1 用引用操纵对象

String s;  //这里创建的只是引用，不是对象

String s= new String("asdf") //把引用与新的对象相关联



2.2 必须由你创建所有对象

存储到什么位置？

1）寄存器：最快的存储区，位于处理器内部，根据需求进行分配，不能直接控制

2）堆栈：必须知道存储的所有项的确切生命周期，以便上下移动堆栈指针，对象引用存储在堆栈中，但java对象并不存储在其中如果

3）堆：用于存放所有的java对象，编译器不需要知道存储的数据在堆里存活多长时间，这种灵活性要付出相应代价：用堆进行存储分配和清理可能比用堆栈进行存储分配需要更多时间

4）常亮存储：常量值通常直接存放在程序代码内部，这样做是安全的，因为永远不会被改变

5）如果数据完全存活在程序之外，那么它可以不受程序的任何控制，在程序没有运行时也可以存在。其中两个基本例子是流对象和持久化对象。

特例：基本类型

对于小的，简单的变量，直接存储值，并置于**堆栈**中。java要确定每种基本类型所占存储空间的大小，并不会随机器硬件架构的变化而变化。**这种所占存储空间大小的不变性是java比其他语言的程序更具可移植性的原因之一。**

![image-20201109163320895](E:\基础知识\basical-knowledge\第二章 一切都是对象.assets\image-20201109163320895.png)

注：所有数值类型都有正负号

​		boolean类型所占存储空间的大小没有明确指定，仅定义能取字面值true或false

基本类型具有的包装器类，使得可以在**堆**中创建一个**非基本对象**。



高精度数字：BigInteger和BigDecimal，提供的操作与基本类型相似，需用方法调用的方式来实现，速度降低。但支持任意精度的整数和**定点数。**



2.3 永远不需要销毁对象

在c c++ java中，作用域由花括号的位置来决定，在作用域里定义的变量只可用于作用域结束之前。

以下代码在c和c++合法，但在java不合法

```java
{
	int x=12;
	{
		int x=13;
	}
}
```

c和c++允许把较大作用域变量隐藏起来，java不允许。

用**new**创建的java对象，可以存在于作用域之外，但其引用在作用域终点消失。



2.4 类

若类的某个成员是基本类型，即使 没有初始化，java也会确保它获得一个默认值。但对于“局部”变量不会，例如在某个方法中定义int x；x可能获得任意值。



2.5 方法，参数和返回值

java中的方法只能作为类的一部分来创建，只有通过对象才能被调用。



2.6 构建一个java程序

可以使用关键字**import**指示编译器导入一个包，即一个类库（其他语言中，库不仅包含类，还可能有方法和数据）。

当声明一个事物是**static**时，就意味着这个域或对象不会与包含它的那个类的任何对象实例关联在一起。引用**static**变量，既可以通过对象定位，也可以通过类名直接引用。静态方法同理。

每个**static**字段对每个类来说都只有一份存储空间，而非static字段则是对每个对象有一个存储空间，而static方法则是可以在不创建任何对象的前提下调用。

main() 方法中的args参数用来存储命令行参数。

